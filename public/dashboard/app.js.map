{"version":3,"sources":["webpack:///webpack/bootstrap 51e9c49f89c4928066f6","webpack:///./build/dashboard/bundle.js","webpack:///./build/dashboard/utils.js","webpack:///./build/dashboard/header/header.events.js","webpack:///./build/dashboard/timer/timer.js","webpack:///./build/dashboard/timer/timer.html.js","webpack:///./build/dashboard/tasks/tasks.events.js","webpack:///./build/dashboard/tasks/tasks.html.js","webpack:///./build/dashboard/tasks/tasks.ajax.js"],"names":["apiURL","$","document","ready","require","module","exports","rootURL","getValue","selector","val","emptyForm","formElements","forEach","element","redirectToLogin","window","location","addLeadingZeroes","number","slice","timer","generate","getTasks","click","reset","hide","siblings","show","html","timerHTML","timeInSeconds","isRunning","stop","start","callback","intervalID","setInterval","bind","pause","clearInterval","utils","divideTimeHTML","time","pad","hours","divideTime","minutes","seconds","initialTime","division","Math","floor","ajax","on","task","parent","editTaskHTML","editTask","err","editedTask","innerTaskHTML","title","date","description","deleteTask","attr","timeHTML","currentTitle","children","currentDescription","taskHTML","_id","url","getJSON","done","tasks","length","append","fail","console","log","id","undefined","type","data","remove"],"mappings":"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","file":"public/dashboard/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 51e9c49f89c4928066f6\n **/","var apiURL = '//localhost:5000/';\n\n// let ajax = require('./ajax')(apiURL);\n\n$(document).ready(function() {\n  require('./header/header.events')(apiURL);\n  require('./tasks/tasks.events')(apiURL);\n  // require('./event.handlers.js')(ajax);\n\n\n\n  \n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/bundle.js\n **/","module.exports = function(rootURL) {\n  return {\n    getValue(selector) {\n      return $(selector).val();\n    },\n\n    emptyForm(formElements) {\n      formElements.forEach(function(element) {\n        $(element).val('');\n      });\n    },\n\n    redirectToLogin() {\n      window.location = rootURL;\n    },\n\n    addLeadingZeroes(number) {\n      return ('0' + number).slice(-2);\n    },\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/utils.js\n **/","let timer = require('../timer/timer');\nlet generate = require('../timer/timer.html');\n\nmodule.exports = function(apiURL) {\n  let getTasks = require('../tasks/tasks.ajax')(apiURL).getTasks;\n  // header\n  $('#nav-buttons .my-tasks').click(function() {\n    // TO DO -- add the close prompt if the timer is running. Otherwise just load the page.\n    timer.reset();\n    getTasks();\n    $('#timer-container').hide().siblings('#tasks-container').show();\n  });\n\n  // header\n  $('#nav-buttons .new-task').click(function() {\n    $('#tasks-container').hide();\n    $('#timer-container').show().html(generate.timerHTML());\n  });\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/header/header.events.js\n **/","module.exports = {\n  timeInSeconds: 0,\n  isRunning: false,\n  reset() {\n    this.timeInSeconds = 0;\n    this.isRunning = false;\n    this.stop();\n  },\n  start(callback) {\n    if (!this.isRunning) {\n      this.isRunning = true;\n      this.intervalID = setInterval(function() {\n        this.timeInSeconds += 1;\n        callback(this.timeInSeconds);\n      }.bind(this), 1000);\n    }\n  },\n  pause() {\n    this.isRunning = false;\n    clearInterval(this.intervalID);\n  },\n  stop() {\n    this.pause();\n    return this.timeInSeconds;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/timer/timer.js\n **/","let utils = require('../utils')();\n\nmodule.exports = {\n  timerHTML() {\n    return `\n      <button class=\"cancel\">\n        <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n      </button>\n      <div class=\"timer\">\n        <h2>\n          <span class=\"hours\">00</span>:<span class=\"minutes\">00</span>:<span class=\"seconds\">00</span>\n        </h2>\n        <button class=\"start\">Start</button>\n        <button class=\"stop\">Stop</button>\n      </div>\n    `;\n  },\n\n  divideTimeHTML(time) {\n    let pad = utils.addLeadingZeroes;\n\n    let hours = pad(divideTime(time, 360));\n    let minutes = pad(divideTime(time - (hours * 360), 60));\n    let seconds = pad(divideTime(time - (hours * 360) - (minutes * 60)));\n\n    function divideTime(initialTime, division = 1) {\n      return Math.floor(initialTime / division);\n    }\n\n    return `<span class=\"hours\">${hours}</span>:<span class=\"minutes\">${minutes}</span>:<span class=\"seconds\">${seconds}</span>`;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/timer/timer.html.js\n **/","let generate = require('./tasks.html');\n\n\nmodule.exports = (apiURL) => {\n  let ajax = require('./tasks.ajax')(apiURL);\n  ajax.getTasks();\n\n  $('#tasks-container').on('click', '.task .edit', function() {\n    let task = $(this).parent();\n    let html = generate.editTaskHTML(task);\n    $(task).html(html);\n  });\n\n  $('#tasks-container').on('click', '.task .save-changes', function() {\n    let task = $(this).parent();\n\n    ajax.editTask(task, function(err, editedTask) {\n      if (editedTask) {\n        task.html(generate.innerTaskHTML(editedTask.title, editedTask.date, editedTask.time, editedTask.description));\n      }\n    });\n  });\n\n  $('#tasks-container').on('click', '.cancel-changes', function() {\n    let task = $(this).parent();\n\n    // TODO -- update ajax.getOneTask to utilize full callback\n    ajax.getTasks();\n  });\n\n  $('#tasks-container').on('click', '.task .delete', function() {\n    // TODO -- refactor ajax.delete to separate the AJAX call from the DOM manipulation\n    ajax.deleteTask($(this).parent().attr('id'));\n  });\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/tasks/tasks.events.js\n **/","let timeHTML = require('../timer/timer.html');\n\nmodule.exports = {\n  editTaskHTML(task) {\n    let currentTitle = task.children('.title').html();\n    let currentDescription = task.children('.description').html() || 'Add a description';\n    let time = task.children('.time').html();\n    let date = task.children('.date').html();\n\n    return `\n      <input type=\"text\" class=\"title\" placeholder=\"${currentTitle}\">\n      <h4 class=\"date\">${date}</h4>\n      <h4 class=\"time\">${time}</h4>\n      <input type=\"text\" class=\"description\" placeholder=\"${currentDescription}\">\n      <button class=\"cancel-changes\">Cancel Changes</button>\n      <button class=\"save-changes\">Save Changes</button>\n    `;\n  },\n\n  taskHTML(task) {\n    return `\n      <div class=\"task\" id=\"${task._id}\">\n        ${this.innerTaskHTML(task.title, task.date, task.time, task.description)}\n      </div>\n    `;\n  },\n\n  innerTaskHTML(title, date, time, description) {\n    if (!description) {\n      description = '';\n    }\n\n    return `\n      <h3 class=\"title\">${title}</h3>\n      <h4 class=\"date\">${date}</h4>\n      <h4 class=\"time\">${timeHTML.divideTimeHTML(time)}</h4>\n      <p class=\"description\">${description}</p>\n      <button class=\"edit\">Edit</button>\n      <button class=\"delete\">Delete</button>\n    `;\n  },\n\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/tasks/tasks.html.js\n **/","let generate = require('./tasks.html');\n\nmodule.exports = (apiURL) => {\n  let utils = require('../utils')(apiURL);\n\n  return {\n    getTasks() {\n      let url = apiURL + 'tasks/';\n      $.getJSON(url)\n        .done(function(tasks) {\n          if (!tasks.length) {\n            $('#tasks-container').append('<p>It looks like you haven\\'t created any tasks yet. Start tracking time today</p>');\n          }\n\n          $('#tasks-container').html('');\n          tasks.forEach(function(task) {\n            // Change html to be a ul\n            $('#tasks-container').append(generate.taskHTML(task));\n          });\n        }).fail(function(err) {\n          // Eventually need to do something to handle this on the frontend?\n          console.log('Oh no!', err);\n          utils.redirectToLogin();\n        });\n    },\n\n    editTask(task, callback) {\n      let id = task.attr('id');\n      let title = task.children('.title').val() || undefined;\n      let description = task.children('.description').val() || undefined;\n      \n      $.ajax({\n        url: `${apiURL}tasks/edit/${id}`,\n        type: 'PUT',\n        data: { title: title, description: description }\n      }).done(function(editedTask) {\n        callback(null, editedTask);\n      }).fail(function(err) {\n        callback(err);\n      });\n    },\n\n    deleteTask(id) {\n      var url = `${apiURL}tasks/delete/${id}`;\n\n      $.ajax({\n        url: url,\n        type: 'DELETE',\n      }).done(() => {\n        $(`#${id}`).remove();\n      });\n    },\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./build/dashboard/tasks/tasks.ajax.js\n **/"],"sourceRoot":""}